import java.io.IOException;
import java.nio.charset.Charset;
import java.nio.file.Files;
import java.nio.file.Path;
import java.nio.file.Paths;
import java.util.ArrayList;
import java.util.List;
import java.util.stream.Collectors;

public class MergeAuditFiles {

    public static void main(String args[]) {

        String outputFile = "D:\\Clients\\YOMA_Slowness\\26-May-17\\UAT3_Audit\\BF_running\\Consolidated_sorted.txt";
        String findString = "Y000642";
        int numberOfFiles = 10;
        List<String> words = new ArrayList<String>();

        try {
            for (int i = 1; i <= numberOfFiles; i++) {

                String FILENAME = "D:\\Clients\\YOMA_Slowness\\26-May-17\\UAT3_Audit\\BF_running\\audit" + i + ".txt";

                words.addAll(Files.lines(Paths.get(FILENAME)).filter(word -> word.contains(findString)).collect(Collectors.toList()));

            }
            words = words.stream().sorted().collect(Collectors.toList());

            Files.write(Paths.get(outputFile), words, Charset.defaultCharset());

        } catch (IOException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }
    }
}
